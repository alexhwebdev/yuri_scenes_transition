{
  "version": 3,
  "sources": ["../../lethargy/lethargy.js"],
  "sourcesContent": ["// Generated by CoffeeScript 1.9.2\n(function() {\n  var root;\n\n  root = typeof exports !== \"undefined\" && exports !== null ? exports : this;\n\n  root.Lethargy = (function() {\n    function Lethargy(stability, sensitivity, tolerance, delay) {\n      this.stability = stability != null ? Math.abs(stability) : 8;\n      this.sensitivity = sensitivity != null ? 1 + Math.abs(sensitivity) : 100;\n      this.tolerance = tolerance != null ? 1 + Math.abs(tolerance) : 1.1;\n      this.delay = delay != null ? delay : 150;\n      this.lastUpDeltas = (function() {\n        var i, ref, results;\n        results = [];\n        for (i = 1, ref = this.stability * 2; 1 <= ref ? i <= ref : i >= ref; 1 <= ref ? i++ : i--) {\n          results.push(null);\n        }\n        return results;\n      }).call(this);\n      this.lastDownDeltas = (function() {\n        var i, ref, results;\n        results = [];\n        for (i = 1, ref = this.stability * 2; 1 <= ref ? i <= ref : i >= ref; 1 <= ref ? i++ : i--) {\n          results.push(null);\n        }\n        return results;\n      }).call(this);\n      this.deltasTimestamp = (function() {\n        var i, ref, results;\n        results = [];\n        for (i = 1, ref = this.stability * 2; 1 <= ref ? i <= ref : i >= ref; 1 <= ref ? i++ : i--) {\n          results.push(null);\n        }\n        return results;\n      }).call(this);\n    }\n\n    Lethargy.prototype.check = function(e) {\n      var lastDelta;\n      e = e.originalEvent || e;\n      if (e.wheelDelta != null) {\n        lastDelta = e.wheelDelta;\n      } else if (e.deltaY != null) {\n        lastDelta = e.deltaY * -40;\n      } else if ((e.detail != null) || e.detail === 0) {\n        lastDelta = e.detail * -40;\n      }\n      this.deltasTimestamp.push(Date.now());\n      this.deltasTimestamp.shift();\n      if (lastDelta > 0) {\n        this.lastUpDeltas.push(lastDelta);\n        this.lastUpDeltas.shift();\n        return this.isInertia(1);\n      } else {\n        this.lastDownDeltas.push(lastDelta);\n        this.lastDownDeltas.shift();\n        return this.isInertia(-1);\n      }\n      return false;\n    };\n\n    Lethargy.prototype.isInertia = function(direction) {\n      var lastDeltas, lastDeltasNew, lastDeltasOld, newAverage, newSum, oldAverage, oldSum;\n      lastDeltas = direction === -1 ? this.lastDownDeltas : this.lastUpDeltas;\n      if (lastDeltas[0] === null) {\n        return direction;\n      }\n      if (this.deltasTimestamp[(this.stability * 2) - 2] + this.delay > Date.now() && lastDeltas[0] === lastDeltas[(this.stability * 2) - 1]) {\n        return false;\n      }\n      lastDeltasOld = lastDeltas.slice(0, this.stability);\n      lastDeltasNew = lastDeltas.slice(this.stability, this.stability * 2);\n      oldSum = lastDeltasOld.reduce(function(t, s) {\n        return t + s;\n      });\n      newSum = lastDeltasNew.reduce(function(t, s) {\n        return t + s;\n      });\n      oldAverage = oldSum / lastDeltasOld.length;\n      newAverage = newSum / lastDeltasNew.length;\n      if (Math.abs(oldAverage) < Math.abs(newAverage * this.tolerance) && (this.sensitivity < Math.abs(newAverage))) {\n        return direction;\n      } else {\n        return false;\n      }\n    };\n\n    Lethargy.prototype.showLastUpDeltas = function() {\n      return this.lastUpDeltas;\n    };\n\n    Lethargy.prototype.showLastDownDeltas = function() {\n      return this.lastDownDeltas;\n    };\n\n    return Lethargy;\n\n  })();\n\n}).call(this);\n"],
  "mappings": "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",
  "names": []
}
